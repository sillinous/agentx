# DevOps Hub - Environment Configuration
# Copy this file to .env and customize for your environment
# All variables have sensible defaults - only set what you need to change

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# API server port (default: 8100)
PORT=8100

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL (default: INFO)
LOG_LEVEL=INFO

# Logging format: "json" for structured logging, empty for human-readable (default: human-readable)
# Use "json" in production for log aggregation tools (ELK, Datadog, etc.)
LOG_FORMAT=

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Enable API key authentication (default: true)
# Set to "false" for development/testing only
AUTH_ENABLED=true

# Allow read operations without authentication (default: true)
# When true, GET requests to /agents, /workflows, etc. work without API key
ALLOW_ANONYMOUS_READ=true

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed CORS origins (comma-separated)
# Use "*" for development only, specify exact origins for production
# Example: https://app.example.com,https://admin.example.com
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# =============================================================================
# DATABASE
# =============================================================================

# SQLite database path (default: ./data/devops_hub.db)
# For Docker, this is typically /app/data/devops_hub.db
DATABASE_PATH=./data/devops_hub.db

# =============================================================================
# REDIS (Optional)
# =============================================================================
# Redis is optional - the system works fully without it
# Enable Redis for: caching, rate limiting, distributed pub/sub

# Redis host (default: localhost)
REDIS_HOST=localhost

# Redis port (default: 6379)
REDIS_PORT=6379

# Redis database number (default: 0)
REDIS_DB=0

# Redis password (default: none)
# REDIS_PASSWORD=your_secure_password

# Redis connection timeout in seconds (default: 5.0)
REDIS_SOCKET_TIMEOUT=5.0

# Redis connection establishment timeout in seconds (default: 5.0)
REDIS_CONNECT_TIMEOUT=5.0

# Maximum Redis connections in pool (default: 10)
REDIS_MAX_CONNECTIONS=10

# =============================================================================
# RATE LIMITING (Requires Redis)
# =============================================================================

# Enable rate limiting (default: false)
RATE_LIMIT_ENABLED=false

# Requests per window for general endpoints (default: 100)
RATE_LIMIT_REQUESTS=100

# Rate limit window in seconds (default: 60)
RATE_LIMIT_WINDOW=60

# Requests per window for execution endpoints (default: 20)
RATE_LIMIT_EXECUTE_REQUESTS=20

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Number of Gunicorn workers (default: 4)
# Recommended: (2 x CPU cores) + 1
WORKERS=4

# Request timeout in seconds (default: 120)
REQUEST_TIMEOUT=120

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Python unbuffered output (set to 1 for Docker/logging)
PYTHONUNBUFFERED=1

# Disable Python bytecode files
PYTHONDONTWRITEBYTECODE=1
