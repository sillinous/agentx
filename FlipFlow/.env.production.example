# FlipFlow Production Environment Variables
# This file documents all environment variables required for production deployment
# Add these to your Vercel project settings: https://vercel.com/[your-project]/settings/environment-variables

# ============================================
# CORE - Required for All Deployments
# ============================================

# Anthropic Claude API
# Get from: https://console.anthropic.com
# Used for: AI-powered listing analysis
ANTHROPIC_API_KEY=sk-ant-api03-xxx

# Application URL
# Your production Vercel URL or custom domain
NEXT_PUBLIC_APP_URL=https://flipflow.vercel.app

# Node Environment (automatically set by Vercel, included for completeness)
NODE_ENV=production

# ============================================
# DATABASE - Required for Scout Agent Features
# ============================================

# PostgreSQL Database URL
# Option 1: Supabase (recommended)
# Get from: https://supabase.com → Project Settings → Database → Connection String
# Format: postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.xxx.supabase.co:5432/postgres

# Supabase Configuration
# Get from: https://supabase.com → Project Settings → API
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxx

# ============================================
# AUTOMATION - Required for Scout Agent
# ============================================

# n8n Automation Platform
# Get from: https://n8n.io → Workflows → Webhook URLs
# Used for: Automated scraping and notifications
N8N_WEBHOOK_URL=https://[your-instance].app.n8n.cloud/webhook/flipflow
N8N_API_KEY=n8n_api_xxx

# ============================================
# EMAIL - Required for Notifications
# ============================================

# Resend Email Service
# Get from: https://resend.com → API Keys
# Used for: User alerts and notifications
RESEND_API_KEY=re_xxx
RESEND_FROM_EMAIL=alerts@yourdomain.com

# ============================================
# PAYMENTS - Required for Monetization
# ============================================

# Stripe Payment Processing
# Get from: https://dashboard.stripe.com/apikeys
# IMPORTANT: Use LIVE keys for production (sk_live_xxx, pk_live_xxx)
STRIPE_SECRET_KEY=sk_live_xxx
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# Stripe Product Price IDs
# Create these in Stripe Dashboard → Products
# Format: price_xxx (live mode)
STRIPE_PRICE_STARTER=price_xxx              # $9.99 for 10 analyses
STRIPE_PRICE_UNLIMITED=price_xxx            # $49/mo unlimited analyses
STRIPE_PRICE_SCOUT_STARTER=price_xxx        # $49/mo Scout Starter
STRIPE_PRICE_SCOUT_PRO=price_xxx            # $99/mo Scout Pro
STRIPE_PRICE_SCOUT_ENTERPRISE=price_xxx     # $249/mo Scout Enterprise

# ============================================
# ANALYTICS & MONITORING - Recommended
# ============================================

# Vercel Analytics
# Automatically enabled for Vercel Pro accounts
# Optional: Add custom analytics ID
NEXT_PUBLIC_VERCEL_ANALYTICS_ID=xxx

# Sentry Error Tracking
# Get from: https://sentry.io → Settings → Projects → [Your Project] → Client Keys (DSN)
# Used for: Production error monitoring and debugging
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
SENTRY_ORG=your-org
SENTRY_PROJECT=flipflow
NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Google Analytics (optional)
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ============================================
# ADVANCED SCRAPING - Optional but Recommended
# ============================================

# Bright Data Proxy Service
# Get from: https://brightdata.com
# Used for: Reliable web scraping with rotating IPs
BRIGHT_DATA_PROXY_URL=brd.superproxy.io:22225
BRIGHT_DATA_USERNAME=brd-customer-xxx
BRIGHT_DATA_PASSWORD=xxx

# Alternative: ScrapingBee
SCRAPINGBEE_API_KEY=xxx

# ============================================
# AUTHENTICATION - Optional
# ============================================

# Clerk Authentication (if using Clerk instead of custom auth)
# Get from: https://dashboard.clerk.com
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_xxx
CLERK_SECRET_KEY=sk_live_xxx
CLERK_WEBHOOK_SECRET=whsec_xxx

# ============================================
# RATE LIMITING - Recommended for Production
# ============================================

# Upstash Redis (for rate limiting)
# Get from: https://console.upstash.com
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxx

# ============================================
# CDN & ASSETS - Optional
# ============================================

# Custom CDN Domain (if using external CDN)
NEXT_PUBLIC_CDN_DOMAIN=cdn.yourdomain.com

# AWS S3 (if storing analysis results/screenshots)
AWS_ACCESS_KEY_ID=AKIA_xxx
AWS_SECRET_ACCESS_KEY=xxx
AWS_S3_BUCKET=flipflow-prod
AWS_REGION=us-east-1

# ============================================
# FEATURE FLAGS - Internal Configuration
# ============================================

# Free tier limits
MAX_FREE_ANALYSES=3

# Scraping configuration
SCRAPE_INTERVAL_HOURS=6
BATCH_SIZE=50

# Alert thresholds
ALERT_SCORE_THRESHOLD=70

# Enable beta features
ENABLE_AI_INSIGHTS=true
ENABLE_PRICE_PREDICTIONS=true
ENABLE_COMPETITOR_ANALYSIS=false

# ============================================
# SECURITY - Optional but Recommended
# ============================================

# API Rate Limits (requests per minute)
RATE_LIMIT_ANONYMOUS=10
RATE_LIMIT_AUTHENTICATED=100
RATE_LIMIT_PRO=1000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://flipflow.vercel.app,https://www.flipflow.com

# Webhook signature secrets (for validating external webhooks)
WEBHOOK_SECRET=your-secret-key-xxx

# ============================================
# DEPLOYMENT NOTES
# ============================================

# How to set these in Vercel:
# 1. Go to: https://vercel.com/[your-project]/settings/environment-variables
# 2. Add each variable with its value
# 3. Select environments: Production, Preview, Development (as needed)
# 4. Click "Save"
# 5. Redeploy to apply changes

# Security Best Practices:
# - Never commit this file with actual values to git
# - Use different API keys for production vs staging
# - Rotate secrets regularly
# - Use Vercel's secret feature for sensitive values
# - Enable audit logging in Vercel dashboard

# Cost Optimization:
# - Start with free tiers where possible
# - Monitor usage in each service dashboard
# - Set up billing alerts
# - Scale up only when needed based on actual usage
