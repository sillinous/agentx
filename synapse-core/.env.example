# Synapse Core Environment Configuration
# Copy this file to .env and fill in the values
#
# SECURITY WARNING: Never commit .env files to version control!
# Generate secrets with: openssl rand -hex 32

# ============================================
# Required: OpenAI API Key
# ============================================
OPENAI_API_KEY=sk-your-openai-api-key-here

# ============================================
# Database Configuration (REQUIRED)
# ============================================
# Generate a strong password: openssl rand -base64 24
POSTGRES_PASSWORD=CHANGE_ME_generate_with_openssl_rand_base64_24

# Database connection string (uses POSTGRES_PASSWORD above)
DATABASE_URL=postgresql://synapse:${POSTGRES_PASSWORD}@postgres:5432/synapse

# ============================================
# JWT Authentication (REQUIRED)
# ============================================
# Generate secret: openssl rand -hex 32
# Minimum 32 characters for security
JWT_SECRET=CHANGE_ME_generate_with_openssl_rand_hex_32

JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ============================================
# Application Settings
# ============================================
# Set to "production" for production deployments
NODE_ENV=development
# NODE_ENV=production

# ============================================
# Development Mode
# ============================================
# DEV_MODE controls error verbosity and API docs visibility
# Authentication is ALWAYS required regardless of this setting
# Set to false in production
DEV_MODE=true

# ============================================
# Optional: Model Configuration
# ============================================
OPENAI_MODEL=gpt-4-turbo-preview
# OPENAI_MODEL=gpt-4o

# ============================================
# Optional: pgAdmin (for database management)
# ============================================
# Only set these if you're using the pgadmin service
# PGADMIN_EMAIL=your-email@example.com
# PGADMIN_PASSWORD=CHANGE_ME_use_strong_password

# ============================================
# Optional: Frontend URL
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:8000

# ============================================
# Rate Limiting Configuration
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=60/minute
RATE_LIMIT_AGENT_INVOKE=20/minute
RATE_LIMIT_AUTH=10/minute

# ============================================
# Backend URL (for frontend proxy)
# ============================================
BACKEND_URL=http://localhost:8000

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
# For development, leave empty to use localhost defaults
# For production, set explicit domains (no wildcards!)
# Example: CORS_ORIGINS=https://your-domain.com,https://app.your-domain.com
CORS_ORIGINS=

# ============================================
# Logging Configuration
# ============================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Log format: "json" for production, "text" for development
LOG_FORMAT=text

# ============================================
# Stripe Payment Configuration
# ============================================
# Get keys from: https://dashboard.stripe.com/apikeys
# Use test keys for development (start with sk_test_, pk_test_)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key

# Webhook secret for verifying Stripe events
# Get from: https://dashboard.stripe.com/webhooks
# For local development, use Stripe CLI: stripe listen --forward-to localhost:8000/webhook/stripe
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Price IDs for subscription tiers
# Create products/prices at: https://dashboard.stripe.com/products
# Standard tier prices
STRIPE_PRICE_STANDARD_MONTHLY=price_standard_monthly_id
STRIPE_PRICE_STANDARD_YEARLY=price_standard_yearly_id
# Enterprise tier prices
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_enterprise_monthly_id
STRIPE_PRICE_ENTERPRISE_YEARLY=price_enterprise_yearly_id

# Frontend URL for checkout redirects
FRONTEND_URL=http://localhost:3000

# ============================================
# Testing (for CI/CD)
# ============================================
# Set to true only in test environments
TESTING=false
